<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8">
        <title>Mad Ass Ranger Space</title>
        <link href="./mainPage.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
                integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
                crossorigin="anonymous">
        <!-- CSS Dashboard -->
        <link rel="stylesheet" href="./Dashboard.css">
        <!-- CSS Dashboard -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.css" />
        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>


<body id = "apod_img_id">
        <div class="container animated bounceInLeft" style="background:black; font-family: 'Helvetica Neue', Helvetica;">
                <div>
                        <img class="Logo" src="mars 7.jpg" style="align-content: center;margin-left: auto;margin-right: auto;
                        display: block; width: 200px; height: 150px;">
                </div>

                <div class="wrapper">
                        <div class="row">
                                <div class="col-sm-3">
                                        <div class="panel panel-default panel-body border border-danger">

                                                <div class="panel-heading text-center font-weight-bold">
                                                        <h3>Profile Photo</h3>
                                                        <img src="./Images/image1.jpeg" class="responsive">

                                                        <hr color="red" width="100%">
                                                        <h3>Pooja Chauhan</h3>
                                                        <hr color="red" width="100%">
                                                        <h3> Micro Biologist </h3>
                                                </div>
                                        </div>
                                </div>
                                <div class="col-sm-6">
                                        <div class="panel panel-default panel-body border border-danger">
                                                <h1> Welcome User</h1>
                                                <h1 id="temp">Current Temp in Houston:</h1>
                                                <h1 id="condition">Current Conditions:</h1>
                                        </div>
                                </div>

                                <div class="col-sm-3">
                                        <div class="panel panel-default">
                                                <div class="panel-heading text-center ">
                                                        <h3>My Music</h3>
                                                        <h1> Play Metalica</h1>
                                                </div>
                                        </div>
                                </div>
                        </div>
                </div>
                <div class="wrapper">
                        <div class="row">
                                <div class="col-sm-4">
                                        <div class="panel panel-default panel-body border border-danger">

                                                <div class="panel-heading text-center font-weight-bold">
                                                        <h3>Chat Window</h3>
                                                        <h3></h3>
                                                </div>
                                        </div>
                                </div>
                                <div class="col-sm-8">
                                        <div class="panel panel-default panel-body border border-danger">
                                                <h1> To Do List</h1>
                                        </div>
                                </div>
                        </div>
                </div>
        </div>

<script>

var urlWeather = "http://dataservice.accuweather.com/currentconditions/v1/77058?apikey=A2q45Pne14MzGjNau4fCfDeGds0zGUM5";
$.ajax({
        url: urlWeather,
        method: "GET"
        
}).done(function(response){
        console.log(response);
        var currWeather = response[0].Temperature.Imperial.Value;
        var conditons = response[0].WeatherText;
        console.log(conditons);
        console.log(currWeather);
        $("#temp").append(currWeather);
        $("#condition").append(conditons);
})

var url = "https://api.nasa.gov/planetary/apod?api_key=wubu1AknV9GHmkasgZcqPrAx1T6mI7G3bq9DNbqh";


$.ajax({
  url: url,
  success: function(result){
  if("copyright" in result) {
    $("#copyright").text("Image Credits: " + result.copyright);
  }
  else {
    $("#copyright").text("Image Credits: " + "Public Domain");
  }
  
  if(result.media_type == "video") {
    $("#apod_img_id").css("display", "none"); 
    $("#apod_vid_id").attr("src", result.url);
  }
  else {
    $("#apod_vid_id").css("display", "none"); 
    $("#apod_img_id").attr("src", result.url);
  }
  $("#reqObject").text(url);
  $("#returnObject").text(JSON.stringify(result, null, 4));  
  $("#apod_explaination").text(result.explanation);
  $("#apod_title").text(result.title);

  console.log ( result.url);
  $('#apod_img_id').css('background-image', `url(${result.url})`);

}

});


</script>
<script> src='/public/assets/js/app.js'></script>
<script src="https://sdk.scdn.co/spotify-player.js"></script>
<script>
window.onSpotifyWebPlaybackSDKReady = () => {
  const token = 'BQB-jhNyryIZ96AXBfczgfMOKs_ktc6svnJum9gvHC9xXKsiC7wTkynpK7wQXz2EwiGNfh8RHTu6b-vTR5YCIAzvxYjmhW9HzVw8ionm2mE3XJKwHRihfGvflHrgvwKXL1_Qb1YVIp8hdrwDA8qv9dTshheITRAEZ6m4VV-WMW4nMLCe1BA0O8ce';
  const player = new Spotify.Player({
    name: 'Web Playback SDK Quick Start Player',
    getOAuthToken: cb => { cb(token); }
  });

  // Error handling
  player.addListener('initialization_error', ({ message }) => { console.error(message); });
  player.addListener('authentication_error', ({ message }) => { console.error(message); });
  player.addListener('account_error', ({ message }) => { console.error(message); });
  player.addListener('playback_error', ({ message }) => { console.error(message); });

  // Playback status updates
  player.addListener('player_state_changed', state => { console.log(state); });

  // Ready
  player.addListener('ready', ({ device_id }) => {
    console.log('Ready with Device ID', device_id);
  });

  // Not Ready
  player.addListener('not_ready', ({ device_id }) => {
    console.log('Device ID has gone offline', device_id);
  });

  // Connect to the player!
  player.connect();
};

$(document).on("click", "#searchButton", function (event) {
  //grab the user input
  let query = $("#searchInput")
    .val()
    .trim()
    .replace(/[.,\/#!$%\^&\*;:{}=\-_`'~()]/g, "");
  $("#searchInput").val("");
  console.log(query);

var spotifyToken = "BQBrwpg8QogSuzxuR1I3isZocsMJyGhpnWn4wwrnHg1Tu9F28KGN1HFz5SPwyYAF1FsDgrsF19Ie6zh9bmQPgpHBjHSGKzN4tPcwpIlefvgpn3etRHBTAAQtgyqqDhrFkr1r_aHXHG86tnR8WjibatspCrtN0jE25nwLDLAjHuJLJZ4WS5IoLRq5"
$.ajax({
    type: "GET",
    url: "https://api.spotify.com/v1/search?q=" + query + "&type=artist&limit=3",
    headers: {
      Authorization: "Bearer " + spotifyToken
    }
  }).done(function (res) {
    console.log(res);
</script>



</body>


</html>